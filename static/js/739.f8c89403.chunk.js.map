{"version":3,"file":"static/js/739.f8c89403.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/Timeline.js","components/reports/MarketingStaffList.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2\"\n}), 'Timeline');","import React, { useState, useEffect, useMemo } from 'react';\nimport {\n  Box, Typography, TextField, InputAdornment, Button, Card, CardContent, \n  Avatar, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, \n  TablePagination, useTheme, Snackbar, Alert, LinearProgress, Grid, Paper, \n  Divider, Chip, Skeleton, IconButton, Tooltip\n} from '@mui/material';\nimport {\n  CalendarToday as CalendarIcon,\n  Person as PersonIcon,\n  People as PeopleIcon,\n  Search as SearchIcon,\n  Phone as PhoneIcon,\n  Email as EmailIcon,\n  LocationOn as LocationIcon,\n  Visibility as ViewIcon,\n  Timeline as ActivityIcon\n} from '@mui/icons-material';\nimport { collection, query, getDocs, doc, getDoc } from 'firebase/firestore';\nimport { db } from '../../services/firebase';\nimport { useAuth } from '../../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport { canViewMarketingStaffList } from '../../utils/roles';\n\n// Helper function to get all subordinates (MarketingStaff and Supervisor) under a user recursively\nconst getAllSubordinatesUnder = (userId, allUsers) => {\n  // Get direct subordinates\n  const directSubordinates = allUsers.filter(u => u.reportingToId === userId);\n\n  // Filter for relevant roles (MarketingStaff and Supervisor)\n  const relevantSubordinates = directSubordinates.filter(u => u.role === 'MarketingStaff' || u.role === 'Supervisor');\n\n  // Get all subordinates under managers who are direct subordinates\n  const managerSubordinates = directSubordinates.filter(u => u.role !== 'MarketingStaff' && u.role !== 'Supervisor');\n\n  let allSubordinates = [...relevantSubordinates];\n\n  // Recursively get subordinates under managers\n  managerSubordinates.forEach(manager => {\n    const subsUnderManager = getAllSubordinatesUnder(manager.id, allUsers);\n    allSubordinates = [...allSubordinates, ...subsUnderManager];\n  });\n\n  return allSubordinates;\n};\n\nexport default function MarketingStaffList() {\n  const theme = useTheme();\n  const navigate = useNavigate();\n  const { userProfile, allUsers, loading: authLoading } = useAuth();\n\n  // State\n  const [loading, setLoading] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [subordinateList, setSubordinateList] = useState([]); // Renamed from staffList\n  const [enrichedSubordinateList, setEnrichedSubordinateList] = useState([]); // Renamed from enrichedStaffList\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' });\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n\n  // Effect to load all relevant subordinates under the current user\n  useEffect(() => {\n    const loadSubordinates = async () => { // Renamed from loadMarketingStaff\n      if (!userProfile || !allUsers || allUsers.length === 0) return;\n\n      setLoading(true);\n\n      try {\n        // Get all relevant subordinates based on user role\n        let subordinates = [];\n\n        if (userProfile.role === 'Admin') {\n          // Admin can see all MarketingStaff and Supervisors\n          subordinates = allUsers.filter(u => u.role === 'MarketingStaff' || u.role === 'Supervisor');\n        } else {\n          // Others can see relevant subordinates under them\n          subordinates = getAllSubordinatesUnder(userProfile.id, allUsers);\n        }\n\n        // Set the base list\n        setSubordinateList(subordinates); // Updated state variable\n\n        // Fetch additional data for each subordinate (performance metrics)\n        await enrichSubordinateData(subordinates); // Renamed function call\n      } catch (error) {\n        console.error(\"Error loading subordinates:\", error); // Updated log message\n        setSnackbar({\n          open: true,\n          message: 'Error loading staff data: ' + error.message, // Kept generic message\n          severity: 'error'\n        });\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadSubordinates(); // Renamed function call\n  }, [userProfile, allUsers]);\n\n  // Function to enrich subordinate data with performance metrics\n  const enrichSubordinateData = async (subordinateList) => { // Renamed function and parameter\n    if (!subordinateList || subordinateList.length === 0) {\n      setEnrichedSubordinateList([]); // Updated state variable\n      return;\n    }\n\n    try {\n      const enrichedData = [];\n\n      // For each subordinate, get their reporting manager and relevant metrics\n      for (const sub of subordinateList) { // Renamed loop variable\n        // Get reporting manager\n        const manager = allUsers.find(u => u.id === sub.reportingToId); // Renamed loop variable\n\n        // Placeholder data (keep existing logic for now)\n        let visitCount30Days = 0;\n        let retailerCount = 0;\n        let lastActive = null;\n\n        // If it's a MarketingStaff, you might eventually fetch their actual visit data here\n        // If it's a Supervisor, you might aggregate data from their MarketingStaff subordinates\n        // For now, using placeholder random data as in the original code\n        visitCount30Days = Math.floor(Math.random() * 30); // Placeholder\n        retailerCount = Math.floor(Math.random() * 20); // Placeholder\n        lastActive = new Date(Date.now() - Math.floor(Math.random() * 7 * 24 * 60 * 60 * 1000)); // Placeholder\n\n        enrichedData.push({\n          ...sub, // Use spread operator for subordinate data\n          managerName: manager?.name || 'N/A',\n          managerRole: manager?.role || 'N/A',\n          visitCount30Days: visitCount30Days, // Use calculated/placeholder values\n          retailerCount: retailerCount, // Use calculated/placeholder values\n          lastActive: lastActive, // Use calculated/placeholder values\n        });\n      }\n\n      setEnrichedSubordinateList(enrichedData); // Updated state variable\n    } catch (error) {\n      console.error(\"Error enriching subordinate data:\", error); // Updated log message\n    }\n  };\n\n  // Filtered staff based on search term\n  const filteredStaff = useMemo(() => { // Kept variable name for memoized result\n    if (!enrichedSubordinateList) return []; // Updated state variable\n\n    return enrichedSubordinateList.filter(staff => { // Updated state variable\n      // Filter by search term (name, phone, email)\n      const matchesSearch = !searchTerm.trim() ||\n        (staff.name && staff.name.toLowerCase().includes(searchTerm.toLowerCase())) ||\n        (staff.phoneNumber && staff.phoneNumber.includes(searchTerm)) ||\n        (staff.email && staff.email.toLowerCase().includes(searchTerm.toLowerCase()));\n\n      return matchesSearch;\n    });\n  }, [enrichedSubordinateList, searchTerm]); // Updated dependency\n\n  // Pagination handlers\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  // Calculate displayed rows based on pagination\n  const displayedRows = filteredStaff.slice(\n    page * rowsPerPage,\n    page * rowsPerPage + rowsPerPage\n  );\n\n  // View staff details\n  const handleViewStaffDetails = (staffId) => {\n    navigate(`/sales/staff/${staffId}/details`);\n  };\n\n  // View staff visit history\n  const handleViewVisitHistory = (staff) => {\n    // For Supervisor, pass dealerVisitIds and for MarketingStaff, pass visitIds\n    if (staff.role === 'Supervisor') {\n      navigate(`/staff/${staff.id}/visits`, { state: { staffRole: 'Supervisor', dealerVisitIds: staff.dealerVisitIds || [] } });\n    } else {\n      navigate(`/staff/${staff.id}/visits`, { state: { staffRole: 'MarketingStaff', visitIds: staff.visitIds || [] } });\n    }\n  };\n\n  // Check if user has permission to view this list\n  if (!canViewMarketingStaffList(userProfile)) { // Kept role check for now\n    return (\n      <Box sx={{ p: 4, textAlign: 'center' }}>\n        <Typography variant=\"h6\" color=\"error\">\n          You are not authorized to view this list.\n        </Typography>\n      </Box>\n    );\n  }\n\n  return (\n    <Box>\n      <Card sx={{ borderRadius: 2, boxShadow: theme.shadows[2], mb: 4 }}>\n        <CardContent sx={{ p: 3 }}>\n          {/* Header */}\n          <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>\n            <Avatar\n              sx={{\n                bgcolor: theme.palette.warning.light,\n                color: theme.palette.warning.contrastText || '#fff',\n                width: 48,\n                height: 48,\n                mr: 2,\n              }}\n            >\n              <PeopleIcon />\n            </Avatar>\n            <Box>\n              <Typography variant=\"h5\" fontWeight=\"bold\" color=\"text.primary\">\n                Sales Staff List {/* Updated header text */}\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                All sales staff reporting to you (directly or indirectly) {/* Updated description */}\n              </Typography>\n            </Box>\n          </Box>\n\n          {/* Filters */}\n          <Paper sx={{ p: 2, mb: 4, borderRadius: 2 }}>\n            <Grid container spacing={2} alignItems=\"center\">\n              <Grid item xs={12}>\n                <TextField\n                  label=\"Search by Name, Email or Phone\" // Kept generic label\n                  type=\"text\"\n                  size=\"small\"\n                  fullWidth\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon sx={{ color: theme.palette.warning.main }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                  sx={{ '& .MuiOutlinedInput-root': { borderRadius: 2 } }}\n                />\n              </Grid>\n            </Grid>\n          </Paper>\n\n          {/* Results Table */}\n          {loading ? (\n            <Box sx={{ mb: 2 }}>\n              <LinearProgress sx={{ height: 6, borderRadius: 3 }} />\n              {/* Skeleton placeholders for table */}\n              <TableContainer>\n                <Table>\n                  <TableHead>\n                    <TableRow>\n                      <TableCell sx={{ fontWeight: 'bold' }}>Staff Member</TableCell> {/* Updated header */}\n                      <TableCell sx={{ fontWeight: 'bold' }}>Role</TableCell> {/* Added Role column */}\n                      <TableCell sx={{ fontWeight: 'bold' }}>Contact Info</TableCell>\n                      <TableCell sx={{ fontWeight: 'bold' }}>Reports To</TableCell>\n                      <TableCell sx={{ fontWeight: 'bold', textAlign: 'center' }}>Actions</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {[...Array(5)].map((_, i) => (\n                      <TableRow key={i}>\n                        <TableCell>\n                          <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                            <Skeleton variant=\"circular\" width={40} height={40} sx={{ mr: 1.5 }} />\n                            <Skeleton variant=\"text\" width={150} />\n                          </Box>\n                        </TableCell>\n                        <TableCell><Skeleton variant=\"text\" width={100} /></TableCell> {/* Added Skeleton for Role */}\n                        <TableCell><Skeleton variant=\"text\" width={180} /></TableCell>\n                        <TableCell><Skeleton variant=\"text\" width={150} /></TableCell>\n                        <TableCell align=\"center\">\n                          <Box sx={{ display: 'flex', justifyContent: 'center', gap: 1 }}>\n                            <Skeleton variant=\"circular\" width={32} height={32} />\n                            <Skeleton variant=\"circular\" width={32} height={32} />\n                          </Box>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </Box>\n          ) : filteredStaff.length === 0 ? (\n            <Box sx={{ textAlign: 'center', p: 4, bgcolor: 'rgba(0,0,0,0.02)', borderRadius: 2 }}>\n              <Typography variant=\"body1\" color=\"text.secondary\">\n                No marketing staff found matching your criteria\n              </Typography>\n            </Box>\n          ) : (\n            <TableContainer>\n              <Table>\n                <TableHead>\n                  <TableRow>\n                    <TableCell sx={{ fontWeight: 'bold' }}>Staff Member</TableCell>\n                    <TableCell sx={{ fontWeight: 'bold' }}>Role</TableCell> {/* Added Role column */}\n                    <TableCell sx={{ fontWeight: 'bold' }}>Contact Info</TableCell>\n                    <TableCell sx={{ fontWeight: 'bold' }}>Reports To</TableCell>\n                    <TableCell sx={{ fontWeight: 'bold', textAlign: 'center' }}>Actions</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {displayedRows.length === 0 ? (\n                    <TableRow>\n                      <TableCell colSpan={5} align=\"center\">\n                        <Typography variant=\"body2\" color=\"text.secondary\">\n                          No matching results found\n                        </Typography>\n                      </TableCell>\n                    </TableRow>\n                  ) : (\n                    displayedRows.map((staff) => (\n                      <TableRow \n                        key={staff.id}\n                        sx={{ '&:hover': { bgcolor: 'rgba(0,0,0,0.04)' } }}\n                      >\n                        <TableCell>\n                          <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                            <Avatar \n                              sx={{ \n                                width: 40, height: 40, mr: 1.5,\n                                bgcolor: theme.palette.warning.main,\n                              }}\n                            >\n                              {staff.name?.charAt(0) || '?'}\n                            </Avatar>\n                            <Box>\n                              <Typography variant=\"body2\" fontWeight={500}>\n                                {staff.name || 'Unknown'}\n                              </Typography>\n                            </Box>\n                          </Box>\n                        </TableCell>\n                        <TableCell>\n                          <Typography variant=\"body2\">\n                            {staff.role === 'MarketingStaff' ? 'Marketing Staff' : 'Supervisor'}\n                          </Typography>\n                        </TableCell>\n                        <TableCell>\n                          <Box>\n                            <Box sx={{ display: 'flex', alignItems: 'center', mb: 0.5 }}>\n                              <PhoneIcon sx={{ fontSize: 16, color: theme.palette.warning.main, mr: 1 }} />\n                              <Typography variant=\"body2\">\n                                {staff.phoneNumber || 'No phone'}\n                              </Typography>\n                            </Box>\n                            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                              <EmailIcon sx={{ fontSize: 16, color: theme.palette.warning.main, mr: 1 }} />\n                              <Typography variant=\"body2\">\n                                {staff.email || 'No email'}\n                              </Typography>\n                            </Box>\n                          </Box>\n                        </TableCell>\n                        <TableCell>\n                          <Box>\n                            <Typography variant=\"body2\" fontWeight={500}>\n                              {staff.managerName || 'N/A'}\n                            </Typography>\n                            <Typography variant=\"caption\" color=\"text.secondary\">\n                              {staff.managerRole?.replace(/([A-Z])/g, ' $1').trim() || 'N/A'}\n                            </Typography>\n                          </Box>\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          <Box sx={{ display: 'flex', justifyContent: 'center', gap: 1 }}>\n                            {/* Only show View Staff Details for Marketing Staff */}\n                            {staff.role === 'MarketingStaff' && (\n                              <Tooltip title=\"View Staff Details\">\n                                <IconButton\n                                  size=\"small\"\n                                  onClick={() => handleViewStaffDetails(staff.id)}\n                                  sx={{\n                                    bgcolor: theme.palette.warning.light,\n                                    color: theme.palette.warning.main,\n                                    '&:hover': { bgcolor: theme.palette.warning.light }\n                                  }}\n                                >\n                                  <ViewIcon fontSize=\"small\" />\n                                </IconButton>\n                              </Tooltip>\n                            )}\n                            <Tooltip title=\"View Visit History\">\n                              <IconButton\n                                size=\"small\"\n                                onClick={() => handleViewVisitHistory(staff)}\n                                sx={{\n                                  bgcolor: theme.palette.info.light,\n                                  color: theme.palette.info.main,\n                                  '&:hover': { bgcolor: theme.palette.info.light }\n                                }}\n                              >\n                                <ActivityIcon fontSize=\"small\" />\n                              </IconButton>\n                            </Tooltip>\n                          </Box>\n                        </TableCell>\n                      </TableRow>\n                    ))\n                  )}\n                </TableBody>\n              </Table>\n              <TablePagination\n                rowsPerPageOptions={[10, 25, 50, 100]}\n                component=\"div\"\n                count={filteredStaff.length}\n                rowsPerPage={rowsPerPage}\n                page={page}\n                onPageChange={handleChangePage}\n                onRowsPerPageChange={handleChangeRowsPerPage}\n              />\n            </TableContainer>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Snackbar for notifications */}\n      <Snackbar\n        open={snackbar.open}\n        autoHideDuration={6000}\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n      >\n        <Alert \n          onClose={() => setSnackbar({ ...snackbar, open: false })} \n          severity={snackbar.severity}\n          sx={{ width: '100%' }}\n        >\n          {snackbar.message}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n}"],"names":["createSvgIcon","_jsx","d","getAllSubordinatesUnder","userId","allUsers","directSubordinates","filter","u","reportingToId","relevantSubordinates","role","managerSubordinates","allSubordinates","forEach","manager","subsUnderManager","id","MarketingStaffList","theme","useTheme","navigate","useNavigate","userProfile","loading","authLoading","useAuth","setLoading","useState","searchTerm","setSearchTerm","subordinateList","setSubordinateList","enrichedSubordinateList","setEnrichedSubordinateList","snackbar","setSnackbar","open","message","severity","page","setPage","rowsPerPage","setRowsPerPage","useEffect","async","length","subordinates","enrichSubordinateData","error","console","loadSubordinates","enrichedData","sub","find","visitCount30Days","retailerCount","lastActive","Math","floor","random","Date","now","push","managerName","name","managerRole","filteredStaff","useMemo","staff","trim","toLowerCase","includes","phoneNumber","email","displayedRows","slice","canViewMarketingStaffList","_jsxs","Box","children","Card","sx","borderRadius","boxShadow","shadows","mb","CardContent","p","display","alignItems","Avatar","bgcolor","palette","warning","light","color","contrastText","width","height","mr","PeopleIcon","Typography","variant","fontWeight","Paper","Grid","container","spacing","item","xs","TextField","label","type","size","fullWidth","value","onChange","e","target","InputProps","startAdornment","InputAdornment","position","SearchIcon","main","LinearProgress","TableContainer","Table","TableHead","TableRow","TableCell","textAlign","TableBody","Array","map","_","i","Skeleton","align","justifyContent","gap","colSpan","_staff$name","_staff$managerRole","charAt","PhoneIcon","fontSize","EmailIcon","replace","Tooltip","title","IconButton","onClick","handleViewStaffDetails","staffId","ViewIcon","state","staffRole","dealerVisitIds","visitIds","handleViewVisitHistory","info","ActivityIcon","TablePagination","rowsPerPageOptions","component","count","onPageChange","handleChangePage","event","newPage","onRowsPerPageChange","parseInt","Snackbar","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","Alert"],"sourceRoot":""}