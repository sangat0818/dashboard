"use strict";(self.webpackChunkbiscuit_admin_dashboard=self.webpackChunkbiscuit_admin_dashboard||[]).push([[850],{3850:(e,t,s)=>{s.r(t),s.d(t,{default:()=>J});var i=s(5043),n=s(5180),r=s(267),a=s(3969),o=s(7873),l=s(5895),c=s(1244),d=s(6128),h=s(3089),x=s(3849),m=s(6020),g=s(2097),u=s(6154),A=s(3699),j=s(8259),f=s(7443),p=s(756),b=s(6172),y=s(1341),v=s(4375),k=s(2579),w=s(2272),I=s(3759),S=s(6529),T=s(916),C=s(1449),M=s(8315),P=s(160),W=s(3883),N=s(3898),R=s(1087),D=s(64),z=s(5272),O=s(5979),E=s(6860),F=s(5472),B=s(8729),$=s(7151),L=(s(1450),s(6200)),G=s(9942),H=s(579);function V(e){return e?e.split(" ").map((e=>e[0])).join("").toUpperCase().substring(0,2):"?"}function _(e){if(!e)return null;if(e instanceof Date)return e;if(e.toDate)return e.toDate();const t=new Date(e);return isNaN(t)?null:t}function U(e,t){let s=[];const i=t.filter((t=>t.reportingToId===e));for(const n of i)"MarketingStaff"===n.role?s.push(n.id):s=s.concat(U(n.id,t));return s}const K={width:"100%",height:"400px",borderRadius:"8px"},J=()=>{const e=(0,r.A)(),t=(0,n.Zp)(),{staffId:s}=(0,n.g)(),J=(0,n.zy)(),Y=J.state&&"Supervisor"===J.state.staffRole,Z=J.state||{},{userProfile:q,allUsers:Q,loading:X}=(0,B.A)(),[ee,te]=(0,i.useState)(null),[se,ie]=(0,i.useState)([]),[ne,re]=(0,i.useState)(!0),[ae,oe]=(0,i.useState)([]),[le,ce]=(0,i.useState)({open:!1,message:"",severity:"success"}),[de,he]=(0,i.useState)(0),[xe,me]=(0,i.useState)(10),[ge,ue]=(0,i.useState)([]),[Ae,je]=(0,i.useState)(!0),[fe,pe]=(0,i.useState)({}),[be,ye]=(0,i.useState)({}),[ve,ke]=(0,i.useState)((new Date).toISOString().split("T")[0]),[we,Ie]=(0,i.useState)({lat:20.5937,lng:78.9629}),[Se,Te]=(0,i.useState)(5),[Ce,Me]=(0,i.useState)(null),[Pe,We]=(0,i.useState)({}),{isLoaded:Ne}=(0,G.KD)({id:"google-map-script",googleMapsApiKey:"AIzaSyAi0inv_ocD9zd37twFk88fOb6Cr08kyh0"}),Re=(0,i.useMemo)((()=>ae&&ve?ae.filter((e=>{if(!e.checkInTime)return!1;const t=e.checkInTime instanceof Date?e.checkInTime:new Date(e.checkInTime);return(0,L.GP)(t,"yyyy-MM-dd")===ve})):ae),[ae,ve]),De=(0,i.useMemo)((()=>Re&&0!==Re.length?Re.filter((e=>e.checkInLocation&&e.checkInLocation.latitude&&e.checkInLocation.longitude)).map((e=>({id:e.id,position:{lat:e.checkInLocation.latitude,lng:e.checkInLocation.longitude},retailerName:be[e.retailerId]||be[e.dealerId]||"Unknown",checkInTime:e.checkInTime,retailerId:e.retailerId,dealerId:e.dealerId,products:e.products||[]}))).sort(((e,t)=>(e.checkInTime instanceof Date?e.checkInTime.getTime():0)-(t.checkInTime instanceof Date?t.checkInTime.getTime():0))):[]),[Re,be]),ze=(0,i.useMemo)((()=>De.map((e=>e.position))),[De]),Oe={strokeColor:e.palette.warning.main,strokeOpacity:.8,strokeWeight:3,geodesic:!0};(0,i.useEffect)((()=>{if(De.length>0){const e=De.map((e=>e.position.lat)),t=De.map((e=>e.position.lng)),s=e.reduce(((e,t)=>e+t),0)/e.length,i=t.reduce(((e,t)=>e+t),0)/t.length;Ie({lat:s,lng:i}),1===De.length?Te(15):Te(12)}}),[De]),(0,i.useEffect)((()=>{je(!0),re(!0);(async()=>{try{const e=await(0,F.x7)((0,F.H9)(E.db,"users",s));if(!e.exists())return ce({open:!0,message:"Staff not found",severity:"error"}),te(null),je(!1),void re(!1);te({id:e.id,...e.data()}),je(!1),ie(Q||[])}catch(e){ce({open:!0,message:e.message||"Error loading staff",severity:"error"}),je(!1)}finally{re(!1)}})()}),[s,q,Q]),(0,i.useEffect)((()=>{if(!ee)return;if(J.state&&"Supervisor"===J.state.staffRole){re(!0);return void(async()=>{try{const e=J.state.dealerVisitIds||[];if(!Array.isArray(e)||0===e.length)return oe([]),void re(!1);const t=(await Promise.all(e.map((e=>(0,F.x7)((0,F.H9)(E.db,"dealerVisits",e)))))).filter((e=>e.exists())).map((e=>{const t=e.data();return{...t,id:e.id,checkInTime:_(t.checkInTime),checkOutTime:_(t.checkOutTime)}}));oe(t)}catch(e){ce({open:!0,message:e.message||"Error loading dealer visits",severity:"error"})}finally{re(!1)}})()}if("MarketingStaff"!==ee.role)return;re(!0);(async()=>{try{const e=ee.visitIds||[];if(!Array.isArray(e)||0===e.length)return oe([]),void re(!1);const t=(await Promise.all(e.map((e=>(0,F.x7)((0,F.H9)(E.db,"visits",e)))))).filter((e=>e.exists())).map((e=>{const t=e.data();return{...t,id:e.id,checkInTime:_(t.checkInTime),checkOutTime:_(t.checkOutTime)}}));oe(t)}catch(e){ce({open:!0,message:e.message||"Error loading visits",severity:"error"})}finally{re(!1)}})()}),[ee,J.state]),(0,i.useEffect)((()=>{if(!ee||"MarketingStaff"===ee.role)return;re(!0);(async()=>{try{const e=se.filter((e=>e.reportingToId===ee.id)),t=await Promise.all(e.map((async e=>{let t=0,s=0,i=0,n=0,r=[];if(r="MarketingStaff"===e.role?[e.id]:U(e.id,se),r.length>0){let e=[];for(const t of r){const s=se.find((e=>e.id===t));s&&Array.isArray(s.visitIds)&&(e=e.concat(s.visitIds))}if(e.length>0){const r=await Promise.all(e.map((e=>(0,F.x7)((0,F.H9)(E.db,"visits",e)))));t=r.length,s=new Set(r.map((e=>{var t;return null===(t=e.data())||void 0===t?void 0:t.retailerId}))).size,r.forEach((e=>{const t=e.data();((null===t||void 0===t?void 0:t.products)||[]).forEach((e=>{const t=parseInt(e.count)||0;i+=t,e.rate&&(n+=t*parseFloat(e.rate))}))}))}}return{id:e.id,name:e.name,role:e.role,status:e.active?"Active":"Inactive",visitCount:t,retailersReached:s,cartonsSold:i,totalSalesAmount:n}})));ue(t)}catch(e){ce({open:!0,message:e.message||"Error loading subordinate stats",severity:"error"})}finally{re(!1)}})()}),[ee,se]),(0,i.useEffect)((()=>{(async()=>{try{const e=(0,F.rJ)(E.db,"products"),t=await(0,F.GG)(e),s={};t.docs.forEach((e=>{const t=e.data();s[e.id]=t})),pe(s)}catch(e){pe({})}})()}),[]),(0,i.useEffect)((()=>{let e=[];if(e=Y?Array.from(new Set(ae.map((e=>e.dealerId)).filter(Boolean))):Array.from(new Set(ae.map((e=>e.retailerId)).filter(Boolean))),0===e.length)return void ye({});(async()=>{try{let t={};for(let s=0;s<e.length;s+=10){const i=e.slice(s,s+10).map((e=>(0,F.x7)((0,F.H9)(E.db,Y?"dealers":"retailers",e))));(await Promise.all(i)).forEach((e=>{if(e.exists()){const s=e.data();t[e.id]=s.name}}))}ye(t)}catch(t){ye({})}})()}),[ae,Y]);const Ee=(0,i.useMemo)((()=>{if(!q||!ee)return;if("Admin"===q.role)return!0;const e=q.id,t=(0,$.xN)(e,se);return ee.id===e||t.includes(ee.id)}),[q,ee,se]);if(X||Ae||void 0===Ee)return(0,H.jsxs)(a.A,{sx:{p:3},children:[(0,H.jsx)(c.A,{sx:{mb:4,borderRadius:2,boxShadow:e.shadows[2]},children:(0,H.jsx)(d.A,{sx:{p:3},children:(0,H.jsxs)(h.A,{container:!0,spacing:2,children:[(0,H.jsx)(h.A,{item:!0,xs:12,md:6,children:(0,H.jsx)(a.A,{sx:{display:"flex",alignItems:"center"},children:Z.name?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(x.A,{variant:"circular",width:60,height:60,sx:{mr:2}}),(0,H.jsxs)(a.A,{children:[(0,H.jsx)(l.A,{variant:"h5",gutterBottom:!0,fontWeight:"bold",children:Z.name}),(0,H.jsx)(l.A,{variant:"body2",color:"text.secondary",children:Z.email}),(0,H.jsx)(l.A,{variant:"body2",color:"text.secondary",children:Z.phoneNumber})]})]}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(x.A,{variant:"circular",width:60,height:60,sx:{mr:2}}),(0,H.jsxs)(a.A,{sx:{flex:1},children:[(0,H.jsx)(x.A,{variant:"text",width:180,height:32,sx:{mb:1}}),(0,H.jsx)(x.A,{variant:"text",width:120,height:20,sx:{mb:.5}}),(0,H.jsx)(x.A,{variant:"text",width:100,height:20})]})]})})}),(0,H.jsx)(h.A,{item:!0,xs:12,md:6,children:(0,H.jsx)(a.A,{sx:{display:"flex",justifyContent:{xs:"flex-start",md:"flex-end"},gap:3,mt:{xs:2,md:0},height:"100%",alignItems:"center"},children:(0,H.jsxs)(a.A,{sx:{textAlign:{xs:"left",md:"center"}},children:[(0,H.jsx)(x.A,{variant:"text",width:80,height:36}),(0,H.jsx)(x.A,{variant:"text",width:60,height:20})]})})})]})})}),(0,H.jsx)(c.A,{sx:{borderRadius:2,boxShadow:e.shadows[2]},children:(0,H.jsx)(d.A,{sx:{p:3},children:(0,H.jsx)(m.A,{sx:{mt:2,mb:1,borderRadius:1}})})})]});if(!1===Ee)return(0,H.jsxs)(a.A,{sx:{p:4,textAlign:"center"},children:[(0,H.jsx)(l.A,{variant:"h6",color:"error",children:"You are not authorized to view this staff's data."}),(0,H.jsx)(g.A,{variant:"contained",onClick:()=>t(-1),sx:{mt:2},startIcon:(0,H.jsx)(M.A,{}),children:"Back"})]});const Fe=Y?"Dealer":"Retailer";return(0,H.jsxs)(a.A,{sx:{p:3},children:[(0,H.jsx)(c.A,{sx:{mb:4,borderRadius:2,boxShadow:e.shadows[2]},children:(0,H.jsx)(d.A,{sx:{p:3},children:(0,H.jsxs)(h.A,{container:!0,spacing:2,children:[(0,H.jsx)(h.A,{item:!0,xs:12,md:6,children:(0,H.jsx)(a.A,{sx:{display:"flex",alignItems:"center"},children:Ae?Z.name?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(x.A,{variant:"circular",width:60,height:60,sx:{mr:2}}),(0,H.jsxs)(a.A,{children:[(0,H.jsx)(l.A,{variant:"h5",gutterBottom:!0,fontWeight:"bold",children:Z.name}),(0,H.jsx)(l.A,{variant:"body2",color:"text.secondary",children:Z.email}),(0,H.jsx)(l.A,{variant:"body2",color:"text.secondary",children:Z.phoneNumber})]})]}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(x.A,{variant:"circular",width:60,height:60,sx:{mr:2}}),(0,H.jsxs)(a.A,{sx:{flex:1},children:[(0,H.jsx)(x.A,{variant:"text",width:180,height:32,sx:{mb:1}}),(0,H.jsx)(x.A,{variant:"text",width:120,height:20,sx:{mb:.5}}),(0,H.jsx)(x.A,{variant:"text",width:100,height:20})]})]}):ee?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(o.A,{sx:{bgcolor:e.palette.warning.light,color:e.palette.warning.contrastText||"#fff",width:60,height:60,mr:2,fontSize:"1.5rem"},children:(0,H.jsx)(P.A,{sx:{fontSize:30}})}),(0,H.jsxs)(a.A,{children:[(0,H.jsx)(l.A,{variant:"h5",gutterBottom:!0,fontWeight:"bold",children:ee.name}),(0,H.jsx)(l.A,{variant:"body2",color:"text.secondary",children:ee.email}),(0,H.jsx)(l.A,{variant:"body2",color:"text.secondary",children:ee.phoneNumber})]})]}):null})}),(0,H.jsx)(h.A,{item:!0,xs:12,md:6,children:(0,H.jsx)(a.A,{sx:{display:"flex",justifyContent:{xs:"flex-start",md:"flex-end"},gap:3,mt:{xs:2,md:0},height:"100%",alignItems:"center"},children:(0,H.jsx)(a.A,{sx:{textAlign:{xs:"left",md:"center"}},children:ee&&"MarketingStaff"===ee.role?(0,H.jsx)(H.Fragment,{}):null})})})]})})}),ee&&("MarketingStaff"===ee.role||Y)?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(c.A,{sx:{borderRadius:2,boxShadow:e.shadows[2],mb:4},children:(0,H.jsxs)(d.A,{sx:{p:3},children:[(0,H.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,H.jsxs)(l.A,{variant:"h6",fontWeight:"bold",children:[(0,H.jsx)(W.A,{sx:{mr:1,verticalAlign:"text-bottom"}}),"Visit Locations"]}),(0,H.jsx)(u.A,{label:"Select Date",type:"date",size:"small",value:ve,onChange:e=>ke(e.target.value),InputLabelProps:{shrink:!0},sx:{minWidth:180},InputProps:{startAdornment:(0,H.jsx)(A.A,{position:"start",children:(0,H.jsx)(N.A,{color:"action"})})}})]}),ne?(0,H.jsx)(m.A,{sx:{mt:2,mb:1,borderRadius:1}}):0===De.length?(0,H.jsx)(a.A,{sx:{p:3,textAlign:"center",backgroundColor:"rgba(0,0,0,0.02)"},children:(0,H.jsx)(l.A,{variant:"body1",color:"text.secondary",children:"No location data available for selected date"})}):Ne?(0,H.jsx)(a.A,{sx:{height:400,width:"100%",mb:2},children:(0,H.jsxs)(G.u6,{mapContainerStyle:K,center:we,zoom:Se,options:{mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0},children:[ze.length>1&&(0,H.jsx)(G.Ro,{path:ze,options:Oe}),De.map(((e,t)=>(0,H.jsx)(G.pH,{position:e.position,onClick:()=>(e=>{Me(e)})(e),label:t>0?`${t+1}`:void 0},e.id))),Ce&&(0,H.jsx)(G.Fu,{position:Ce.position,onCloseClick:()=>Me(null),children:(0,H.jsxs)(a.A,{sx:{p:1},children:[(0,H.jsx)(l.A,{variant:"subtitle2",fontWeight:"bold",children:Ce.retailerName}),(0,H.jsx)(l.A,{variant:"body2",children:Ce.checkInTime instanceof Date?(0,L.GP)(Ce.checkInTime,"MMM d, yyyy, h:mm a"):"Unknown time"}),Ce.products.length>0&&(0,H.jsxs)(l.A,{variant:"caption",display:"block",sx:{mt:1},children:["Products: ",Ce.products.length]})]})})]})}):(0,H.jsx)(a.A,{sx:{p:3,textAlign:"center",backgroundColor:"rgba(0,0,0,0.02)"},children:(0,H.jsx)(l.A,{variant:"body1",color:"text.secondary",children:"Loading Google Maps..."})}),(0,H.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[(0,H.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:["Showing ",De.length," location",1!==De.length?"s":""," for ",ve?(0,L.GP)(new Date(ve),"MMMM d, yyyy"):"today"]}),De.length>0&&(0,H.jsx)(g.A,{size:"small",variant:"outlined",onClick:()=>{if(1===De.length)Ie(De[0].position),Te(15);else if(De.length>1){const e=De.map((e=>e.position.lat)),t=De.map((e=>e.position.lng)),s=e.reduce(((e,t)=>e+t),0)/e.length,i=t.reduce(((e,t)=>e+t),0)/t.length;Ie({lat:s,lng:i}),Te(12)}},sx:{borderRadius:"2rem"},children:"Fit to Markers"})]})]})}),(0,H.jsx)(c.A,{sx:{borderRadius:2,boxShadow:e.shadows[2]},children:(0,H.jsx)(d.A,{sx:{p:3},children:(0,H.jsxs)(a.A,{sx:{mt:0},children:[(0,H.jsxs)(l.A,{variant:"h6",fontWeight:"bold",sx:{mb:2},children:[(0,H.jsx)(R.A,{sx:{mr:1,verticalAlign:"text-bottom"}}),"Visit Records"]}),ne?(0,H.jsx)(m.A,{sx:{mt:2,mb:1,borderRadius:1}}):0===Re.length?(0,H.jsx)(a.A,{sx:{p:3,textAlign:"center",backgroundColor:"rgba(0,0,0,0.02)"},children:(0,H.jsx)(l.A,{variant:"body1",color:"text.secondary",children:"No visit data available for selected date"})}):(0,H.jsx)(j.A,{children:(0,H.jsxs)(f.A,{children:[(0,H.jsx)(p.A,{children:(0,H.jsxs)(b.A,{children:[(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Check-in"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Check-out"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Duration"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:Fe}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Notes"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Products Sold"})]})}),(0,H.jsx)(v.A,{children:Re.slice(de*xe,de*xe+xe).map((t=>[(0,H.jsxs)(b.A,{sx:{"&:hover":{backgroundColor:"rgba(0,0,0,0.04)"}},children:[(0,H.jsx)(y.A,{children:t.checkInTime instanceof Date&&!isNaN(t.checkInTime)?(0,L.GP)(t.checkInTime,"MMM d, yyyy, h:mm a"):"N/A"}),(0,H.jsx)(y.A,{children:t.checkOutTime instanceof Date&&!isNaN(t.checkOutTime)?(0,L.GP)(t.checkOutTime,"MMM d, yyyy, h:mm a"):"N/A"}),(0,H.jsx)(y.A,{children:t.checkInTime instanceof Date&&!isNaN(t.checkInTime)&&t.checkOutTime instanceof Date&&!isNaN(t.checkOutTime)?(()=>{const e=t.checkOutTime.getTime()-t.checkInTime.getTime(),s=Math.floor(e/6e4);if(s<60)return`${s} min${1!==s?"s":""}`;{const e=Math.floor(s/60),t=s%60;return`${e} hr${1!==e?"s":""} ${t} min${1!==t?"s":""}`}})():"N/A"}),(0,H.jsx)(y.A,{children:be[t.retailerId]||be[t.dealerId]||"N/A"}),(0,H.jsx)(y.A,{children:t.notes||""}),(0,H.jsx)(y.A,{children:Array.isArray(t.products)&&t.products.length>0?(0,H.jsx)(H.Fragment,{children:(0,H.jsxs)(a.A,{sx:{display:"flex",alignItems:"center"},children:[(0,H.jsx)(l.A,{variant:"body2",sx:{mr:1},children:Pe[t.id]?"":`${t.products.length} product${t.products.length>1?"s":""}`}),(0,H.jsx)(k.A,{size:"small",onClick:()=>{return e=t.id,void We((t=>({...t,[e]:!t[e]})));var e},"aria-label":Pe[t.id]?"Collapse products":"Expand products",children:Pe[t.id]?(0,H.jsx)(D.A,{}):(0,H.jsx)(z.A,{})})]})}):"\u2014"})]},t.id),Pe[t.id]&&(0,H.jsx)(b.A,{children:(0,H.jsx)(y.A,{colSpan:5,sx:{py:0,borderBottom:"none"},children:(0,H.jsx)(a.A,{sx:{py:2},children:(0,H.jsxs)(f.A,{size:"small",children:[(0,H.jsx)(p.A,{children:(0,H.jsxs)(b.A,{children:[(0,H.jsx)(y.A,{sx:{fontWeight:600,color:e.palette.warning.main,borderBottom:"none",py:.5},children:"Product Name"}),(0,H.jsx)(y.A,{sx:{fontWeight:600,color:e.palette.warning.main,borderBottom:"none",py:.5},children:"Count"})]})}),(0,H.jsx)(v.A,{children:t.products.map(((e,t)=>{var s;return(0,H.jsxs)(b.A,{children:[(0,H.jsx)(y.A,{sx:{borderBottom:"none",py:.5},children:(null===(s=fe[e.productId])||void 0===s?void 0:s.name)||"Product"}),(0,H.jsx)(y.A,{sx:{borderBottom:"none",py:.5},children:e.count})]},t)}))})]})})})},`${t.id}-expanded`)]))})]})}),(0,H.jsx)(w.A,{rowsPerPageOptions:[5,10,25],component:"div",count:Re.length,rowsPerPage:xe,page:de,onPageChange:(e,t)=>he(t),onRowsPerPageChange:e=>{me(parseInt(e.target.value,10)),he(0)}})]})})})]}):ee&&"MarketingStaff"!==ee.role?(0,H.jsx)(c.A,{sx:{borderRadius:2,boxShadow:e.shadows[2],mb:4},children:(0,H.jsxs)(d.A,{sx:{p:3},children:[(0,H.jsxs)(l.A,{variant:"h6",fontWeight:"bold",sx:{mb:2},children:[(0,H.jsx)(O.A,{sx:{mr:1,verticalAlign:"text-bottom"}}),"Direct Subordinates"]}),ne?(0,H.jsx)(m.A,{sx:{mt:2,mb:1,borderRadius:1}}):0===ge.length?(0,H.jsx)(a.A,{sx:{p:3,textAlign:"center",backgroundColor:"rgba(0,0,0,0.02)"},children:(0,H.jsx)(l.A,{variant:"body1",color:"text.secondary",children:"No direct subordinates found"})}):(0,H.jsx)(j.A,{children:(0,H.jsxs)(f.A,{children:[(0,H.jsx)(p.A,{children:(0,H.jsxs)(b.A,{children:[(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Name"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Role"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Status"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Visits"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Retailers Reached"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Cartons Sold"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Sales Amount"}),(0,H.jsx)(y.A,{align:"right",sx:{fontWeight:"bold"},children:"Actions"})]})}),(0,H.jsx)(v.A,{children:ge.slice(de*xe,de*xe+xe).map((s=>(0,H.jsxs)(b.A,{sx:{"&:hover":{backgroundColor:"rgba(0,0,0,0.04)"}},children:[(0,H.jsx)(y.A,{children:(0,H.jsxs)(a.A,{sx:{display:"flex",alignItems:"center"},children:[(0,H.jsx)(o.A,{sx:{bgcolor:e.palette.warning.light,color:e.palette.warning.contrastText||"#fff",width:36,height:36,mr:2,fontSize:"0.9rem"},children:V(s.name)}),(0,H.jsx)(l.A,{variant:"subtitle2",children:s.name})]})}),(0,H.jsx)(y.A,{children:s.role}),(0,H.jsx)(y.A,{children:(0,H.jsx)(I.A,{label:s.status,color:"Active"===s.status?"success":"default",size:"small",sx:{borderRadius:"14px",fontWeight:500}})}),(0,H.jsx)(y.A,{children:s.visitCount}),(0,H.jsx)(y.A,{children:s.retailersReached}),(0,H.jsx)(y.A,{children:s.cartonsSold}),(0,H.jsx)(y.A,{children:(0,H.jsxs)(l.A,{variant:"body2",fontWeight:600,color:e.palette.success.main,children:["\u20b9",s.totalSalesAmount.toFixed(2)]})}),(0,H.jsx)(y.A,{align:"right",children:(0,H.jsx)(S.A,{title:"View Details",children:(0,H.jsx)(k.A,{onClick:()=>t(`/staff/${s.id}/visits`),size:"small",sx:{ml:1,color:e.palette.warning.main,bgcolor:"rgba(255, 152, 0, 0.08)","&:hover":{bgcolor:"rgba(255, 152, 0, 0.12)"}},children:(0,H.jsx)(O.A,{fontSize:"small"})})})})]},s.id)))})]})}),(0,H.jsx)(w.A,{rowsPerPageOptions:[5,10,25],component:"div",count:ge.length,rowsPerPage:xe,page:de,onPageChange:(e,t)=>he(t),onRowsPerPageChange:e=>{me(parseInt(e.target.value,10)),he(0)}})]})}):null,(0,H.jsx)(g.A,{variant:"outlined",onClick:()=>t(-1),sx:{mt:3},startIcon:(0,H.jsx)(M.A,{}),children:"Back"}),(0,H.jsx)(T.A,{open:le.open,autoHideDuration:6e3,onClose:()=>ce({...le,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,H.jsx)(C.A,{onClose:()=>ce({...le,open:!1}),severity:le.severity,sx:{width:"100%",boxShadow:e.shadows[3],borderRadius:2},children:le.message})})]})}}}]);
//# sourceMappingURL=850.429cab37.chunk.js.map