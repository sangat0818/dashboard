"use strict";(self.webpackChunkbiscuit_admin_dashboard=self.webpackChunkbiscuit_admin_dashboard||[]).push([[850],{3850:(e,t,s)=>{s.r(t),s.d(t,{default:()=>K});var i=s(5043),n=s(5180),r=s(267),a=s(3969),o=s(7873),l=s(5895),c=s(1244),d=s(6128),h=s(3089),x=s(3849),m=s(6020),g=s(2097),A=s(6154),u=s(3699),j=s(8259),f=s(7443),p=s(756),b=s(6172),y=s(1341),v=s(4375),k=s(2579),w=s(2272),I=s(3759),S=s(6529),C=s(916),T=s(1449),M=s(8315),P=s(160),W=s(3883),N=s(3898),R=s(1087),D=s(64),z=s(5272),E=s(5979),O=s(6860),F=s(5472),$=s(8729),B=s(7151),G=(s(1450),s(6200)),L=s(9942),H=s(579);function V(e){return e?e.split(" ").map((e=>e[0])).join("").toUpperCase().substring(0,2):"?"}function _(e){if(!e)return null;if(e instanceof Date)return e;if(e.toDate)return e.toDate();const t=new Date(e);return isNaN(t)?null:t}function U(e,t){let s=[];const i=t.filter((t=>t.reportingToId===e));for(const n of i)"MarketingStaff"===n.role?s.push(n.id):s=s.concat(U(n.id,t));return s}const J={width:"100%",height:"400px",borderRadius:"8px"},K=()=>{const e=(0,r.A)(),t=(0,n.Zp)(),{staffId:s}=(0,n.g)(),K=(0,n.zy)().state||{},{userProfile:Y,allUsers:Z,loading:q}=(0,$.A)(),[Q,X]=(0,i.useState)(null),[ee,te]=(0,i.useState)([]),[se,ie]=(0,i.useState)(!0),[ne,re]=(0,i.useState)([]),[ae,oe]=(0,i.useState)({open:!1,message:"",severity:"success"}),[le,ce]=(0,i.useState)(0),[de,he]=(0,i.useState)(10),[xe,me]=(0,i.useState)([]),[ge,Ae]=(0,i.useState)(!0),[ue,je]=(0,i.useState)({}),[fe,pe]=(0,i.useState)({}),[be,ye]=(0,i.useState)((new Date).toISOString().split("T")[0]),[ve,ke]=(0,i.useState)({lat:20.5937,lng:78.9629}),[we,Ie]=(0,i.useState)(5),[Se,Ce]=(0,i.useState)(null),[Te,Me]=(0,i.useState)({}),{isLoaded:Pe}=(0,L.KD)({id:"google-map-script",googleMapsApiKey:"AIzaSyAi0inv_ocD9zd37twFk88fOb6Cr08kyh0"}),We=(0,i.useMemo)((()=>ne&&be?ne.filter((e=>{if(!e.checkInTime)return!1;const t=e.checkInTime instanceof Date?e.checkInTime:new Date(e.checkInTime);return(0,G.GP)(t,"yyyy-MM-dd")===be})):ne),[ne,be]),Ne=(0,i.useMemo)((()=>We&&0!==We.length?We.filter((e=>e.checkInLocation&&e.checkInLocation.latitude&&e.checkInLocation.longitude)).map((e=>({id:e.id,position:{lat:e.checkInLocation.latitude,lng:e.checkInLocation.longitude},retailerName:fe[e.retailerId]||"Unknown Retailer",checkInTime:e.checkInTime,retailerId:e.retailerId,products:e.products||[]}))).sort(((e,t)=>(e.checkInTime instanceof Date?e.checkInTime.getTime():0)-(t.checkInTime instanceof Date?t.checkInTime.getTime():0))):[]),[We,fe]),Re=(0,i.useMemo)((()=>Ne.map((e=>e.position))),[Ne]),De={strokeColor:e.palette.warning.main,strokeOpacity:.8,strokeWeight:3,geodesic:!0};(0,i.useEffect)((()=>{if(Ne.length>0){const e=Ne.map((e=>e.position.lat)),t=Ne.map((e=>e.position.lng)),s=e.reduce(((e,t)=>e+t),0)/e.length,i=t.reduce(((e,t)=>e+t),0)/t.length;ke({lat:s,lng:i}),1===Ne.length?Ie(15):Ie(12)}}),[Ne]),(0,i.useEffect)((()=>{Ae(!0),ie(!0);(async()=>{try{const e=await(0,F.x7)((0,F.H9)(O.db,"users",s));if(!e.exists())return oe({open:!0,message:"Staff not found",severity:"error"}),X(null),Ae(!1),void ie(!1);X({id:e.id,...e.data()}),Ae(!1),te(Z||[])}catch(e){oe({open:!0,message:e.message||"Error loading staff",severity:"error"}),Ae(!1)}finally{ie(!1)}})()}),[s,Y,Z]),(0,i.useEffect)((()=>{if(!Q||"MarketingStaff"!==Q.role)return;ie(!0);(async()=>{try{const e=Q.visitIds||[];if(!Array.isArray(e)||0===e.length)return re([]),void ie(!1);const t=(await Promise.all(e.map((e=>(0,F.x7)((0,F.H9)(O.db,"visits",e)))))).filter((e=>e.exists())).map((e=>{const t=e.data();return{...t,id:e.id,checkInTime:_(t.checkInTime),checkOutTime:_(t.checkOutTime)}}));re(t)}catch(e){oe({open:!0,message:e.message||"Error loading visits",severity:"error"})}finally{ie(!1)}})()}),[Q]),(0,i.useEffect)((()=>{if(!Q||"MarketingStaff"===Q.role)return;ie(!0);(async()=>{try{const e=ee.filter((e=>e.reportingToId===Q.id)),t=await Promise.all(e.map((async e=>{let t=0,s=0,i=0,n=0,r=[];if(r="MarketingStaff"===e.role?[e.id]:U(e.id,ee),r.length>0){let e=[];for(const t of r){const s=ee.find((e=>e.id===t));s&&Array.isArray(s.visitIds)&&(e=e.concat(s.visitIds))}if(e.length>0){const r=await Promise.all(e.map((e=>(0,F.x7)((0,F.H9)(O.db,"visits",e)))));t=r.length,s=new Set(r.map((e=>{var t;return null===(t=e.data())||void 0===t?void 0:t.retailerId}))).size,r.forEach((e=>{const t=e.data();((null===t||void 0===t?void 0:t.products)||[]).forEach((e=>{const t=parseInt(e.count)||0;i+=t,e.rate&&(n+=t*parseFloat(e.rate))}))}))}}return{id:e.id,name:e.name,role:e.role,status:e.active?"Active":"Inactive",visitCount:t,retailersReached:s,cartonsSold:i,totalSalesAmount:n}})));me(t)}catch(e){oe({open:!0,message:e.message||"Error loading subordinate stats",severity:"error"})}finally{ie(!1)}})()}),[Q,ee]),(0,i.useEffect)((()=>{(async()=>{try{const e=(0,F.rJ)(O.db,"products"),t=await(0,F.GG)(e),s={};t.docs.forEach((e=>{const t=e.data();s[e.id]=t})),je(s)}catch(e){je({})}})()}),[]),(0,i.useEffect)((()=>{(async()=>{try{const e=(0,F.rJ)(O.db,"retailers"),t=await(0,F.GG)(e),s={};t.docs.forEach((e=>{const t=e.data();s[e.id]=t.name})),pe(s)}catch(e){pe({})}})()}),[]);const ze=(0,i.useMemo)((()=>{if(!Y||!Q)return;if("Admin"===Y.role)return!0;const e=Y.id,t=(0,B.xN)(e,ee);return Q.id===e||t.includes(Q.id)}),[Y,Q,ee]);return q||ge||void 0===ze?(0,H.jsxs)(a.A,{sx:{p:3},children:[(0,H.jsx)(c.A,{sx:{mb:4,borderRadius:2,boxShadow:e.shadows[2]},children:(0,H.jsx)(d.A,{sx:{p:3},children:(0,H.jsxs)(h.A,{container:!0,spacing:2,children:[(0,H.jsx)(h.A,{item:!0,xs:12,md:6,children:(0,H.jsx)(a.A,{sx:{display:"flex",alignItems:"center"},children:K.name?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(x.A,{variant:"circular",width:60,height:60,sx:{mr:2}}),(0,H.jsxs)(a.A,{children:[(0,H.jsx)(l.A,{variant:"h5",gutterBottom:!0,fontWeight:"bold",children:K.name}),(0,H.jsx)(l.A,{variant:"body2",color:"text.secondary",children:K.email}),(0,H.jsx)(l.A,{variant:"body2",color:"text.secondary",children:K.phoneNumber})]})]}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(x.A,{variant:"circular",width:60,height:60,sx:{mr:2}}),(0,H.jsxs)(a.A,{sx:{flex:1},children:[(0,H.jsx)(x.A,{variant:"text",width:180,height:32,sx:{mb:1}}),(0,H.jsx)(x.A,{variant:"text",width:120,height:20,sx:{mb:.5}}),(0,H.jsx)(x.A,{variant:"text",width:100,height:20})]})]})})}),(0,H.jsx)(h.A,{item:!0,xs:12,md:6,children:(0,H.jsx)(a.A,{sx:{display:"flex",justifyContent:{xs:"flex-start",md:"flex-end"},gap:3,mt:{xs:2,md:0},height:"100%",alignItems:"center"},children:(0,H.jsxs)(a.A,{sx:{textAlign:{xs:"left",md:"center"}},children:[(0,H.jsx)(x.A,{variant:"text",width:80,height:36}),(0,H.jsx)(x.A,{variant:"text",width:60,height:20})]})})})]})})}),(0,H.jsx)(c.A,{sx:{borderRadius:2,boxShadow:e.shadows[2]},children:(0,H.jsx)(d.A,{sx:{p:3},children:(0,H.jsx)(m.A,{sx:{mt:2,mb:1,borderRadius:1}})})})]}):!1===ze?(0,H.jsxs)(a.A,{sx:{p:4,textAlign:"center"},children:[(0,H.jsx)(l.A,{variant:"h6",color:"error",children:"You are not authorized to view this staff's data."}),(0,H.jsx)(g.A,{variant:"contained",onClick:()=>t(-1),sx:{mt:2},startIcon:(0,H.jsx)(M.A,{}),children:"Back"})]}):(0,H.jsxs)(a.A,{sx:{p:3},children:[(0,H.jsx)(c.A,{sx:{mb:4,borderRadius:2,boxShadow:e.shadows[2]},children:(0,H.jsx)(d.A,{sx:{p:3},children:(0,H.jsxs)(h.A,{container:!0,spacing:2,children:[(0,H.jsx)(h.A,{item:!0,xs:12,md:6,children:(0,H.jsx)(a.A,{sx:{display:"flex",alignItems:"center"},children:ge?K.name?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(x.A,{variant:"circular",width:60,height:60,sx:{mr:2}}),(0,H.jsxs)(a.A,{children:[(0,H.jsx)(l.A,{variant:"h5",gutterBottom:!0,fontWeight:"bold",children:K.name}),(0,H.jsx)(l.A,{variant:"body2",color:"text.secondary",children:K.email}),(0,H.jsx)(l.A,{variant:"body2",color:"text.secondary",children:K.phoneNumber})]})]}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(x.A,{variant:"circular",width:60,height:60,sx:{mr:2}}),(0,H.jsxs)(a.A,{sx:{flex:1},children:[(0,H.jsx)(x.A,{variant:"text",width:180,height:32,sx:{mb:1}}),(0,H.jsx)(x.A,{variant:"text",width:120,height:20,sx:{mb:.5}}),(0,H.jsx)(x.A,{variant:"text",width:100,height:20})]})]}):Q?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(o.A,{sx:{bgcolor:e.palette.warning.light,color:e.palette.warning.contrastText||"#fff",width:60,height:60,mr:2,fontSize:"1.5rem"},children:(0,H.jsx)(P.A,{sx:{fontSize:30}})}),(0,H.jsxs)(a.A,{children:[(0,H.jsx)(l.A,{variant:"h5",gutterBottom:!0,fontWeight:"bold",children:Q.name}),(0,H.jsx)(l.A,{variant:"body2",color:"text.secondary",children:Q.email}),(0,H.jsx)(l.A,{variant:"body2",color:"text.secondary",children:Q.phoneNumber})]})]}):null})}),(0,H.jsx)(h.A,{item:!0,xs:12,md:6,children:(0,H.jsx)(a.A,{sx:{display:"flex",justifyContent:{xs:"flex-start",md:"flex-end"},gap:3,mt:{xs:2,md:0},height:"100%",alignItems:"center"},children:(0,H.jsx)(a.A,{sx:{textAlign:{xs:"left",md:"center"}},children:Q&&"MarketingStaff"===Q.role?(0,H.jsx)(H.Fragment,{}):null})})})]})})}),Q&&"MarketingStaff"===Q.role?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(c.A,{sx:{borderRadius:2,boxShadow:e.shadows[2],mb:4},children:(0,H.jsxs)(d.A,{sx:{p:3},children:[(0,H.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,H.jsxs)(l.A,{variant:"h6",fontWeight:"bold",children:[(0,H.jsx)(W.A,{sx:{mr:1,verticalAlign:"text-bottom"}}),"Visit Locations"]}),(0,H.jsx)(A.A,{label:"Select Date",type:"date",size:"small",value:be,onChange:e=>ye(e.target.value),InputLabelProps:{shrink:!0},sx:{minWidth:180},InputProps:{startAdornment:(0,H.jsx)(u.A,{position:"start",children:(0,H.jsx)(N.A,{color:"action"})})}})]}),se?(0,H.jsx)(m.A,{sx:{mt:2,mb:1,borderRadius:1}}):0===Ne.length?(0,H.jsx)(a.A,{sx:{p:3,textAlign:"center",backgroundColor:"rgba(0,0,0,0.02)"},children:(0,H.jsx)(l.A,{variant:"body1",color:"text.secondary",children:"No location data available for selected date"})}):Pe?(0,H.jsx)(a.A,{sx:{height:400,width:"100%",mb:2},children:(0,H.jsxs)(L.u6,{mapContainerStyle:J,center:ve,zoom:we,options:{mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0},children:[Re.length>1&&(0,H.jsx)(L.Ro,{path:Re,options:De}),Ne.map(((e,t)=>(0,H.jsx)(L.pH,{position:e.position,onClick:()=>(e=>{Ce(e)})(e),label:t>0?`${t+1}`:void 0},e.id))),Se&&(0,H.jsx)(L.Fu,{position:Se.position,onCloseClick:()=>Ce(null),children:(0,H.jsxs)(a.A,{sx:{p:1},children:[(0,H.jsx)(l.A,{variant:"subtitle2",fontWeight:"bold",children:Se.retailerName}),(0,H.jsx)(l.A,{variant:"body2",children:Se.checkInTime instanceof Date?(0,G.GP)(Se.checkInTime,"MMM d, yyyy, h:mm a"):"Unknown time"}),Se.products.length>0&&(0,H.jsxs)(l.A,{variant:"caption",display:"block",sx:{mt:1},children:["Products: ",Se.products.length]})]})})]})}):(0,H.jsx)(a.A,{sx:{p:3,textAlign:"center",backgroundColor:"rgba(0,0,0,0.02)"},children:(0,H.jsx)(l.A,{variant:"body1",color:"text.secondary",children:"Loading Google Maps..."})}),(0,H.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[(0,H.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:["Showing ",Ne.length," location",1!==Ne.length?"s":""," for ",be?(0,G.GP)(new Date(be),"MMMM d, yyyy"):"today"]}),Ne.length>0&&(0,H.jsx)(g.A,{size:"small",variant:"outlined",onClick:()=>{if(1===Ne.length)ke(Ne[0].position),Ie(15);else if(Ne.length>1){const e=Ne.map((e=>e.position.lat)),t=Ne.map((e=>e.position.lng)),s=e.reduce(((e,t)=>e+t),0)/e.length,i=t.reduce(((e,t)=>e+t),0)/t.length;ke({lat:s,lng:i}),Ie(12)}},sx:{borderRadius:"2rem"},children:"Fit to Markers"})]})]})}),(0,H.jsx)(c.A,{sx:{borderRadius:2,boxShadow:e.shadows[2]},children:(0,H.jsx)(d.A,{sx:{p:3},children:(0,H.jsxs)(a.A,{sx:{mt:0},children:[(0,H.jsxs)(l.A,{variant:"h6",fontWeight:"bold",sx:{mb:2},children:[(0,H.jsx)(R.A,{sx:{mr:1,verticalAlign:"text-bottom"}}),"Visit Records"]}),se?(0,H.jsx)(m.A,{sx:{mt:2,mb:1,borderRadius:1}}):0===We.length?(0,H.jsx)(a.A,{sx:{p:3,textAlign:"center",backgroundColor:"rgba(0,0,0,0.02)"},children:(0,H.jsx)(l.A,{variant:"body1",color:"text.secondary",children:"No visit data available for selected date"})}):(0,H.jsx)(j.A,{children:(0,H.jsxs)(f.A,{children:[(0,H.jsx)(p.A,{children:(0,H.jsxs)(b.A,{children:[(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Check-in"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Check-out"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Duration"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Retailer"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Products Sold"})]})}),(0,H.jsx)(v.A,{children:We.slice(le*de,le*de+de).map((t=>[(0,H.jsxs)(b.A,{sx:{"&:hover":{backgroundColor:"rgba(0,0,0,0.04)"}},children:[(0,H.jsx)(y.A,{children:t.checkInTime instanceof Date&&!isNaN(t.checkInTime)?(0,G.GP)(t.checkInTime,"MMM d, yyyy, h:mm a"):"N/A"}),(0,H.jsx)(y.A,{children:t.checkOutTime instanceof Date&&!isNaN(t.checkOutTime)?(0,G.GP)(t.checkOutTime,"MMM d, yyyy, h:mm a"):"N/A"}),(0,H.jsx)(y.A,{children:t.checkInTime instanceof Date&&!isNaN(t.checkInTime)&&t.checkOutTime instanceof Date&&!isNaN(t.checkOutTime)?(()=>{const e=t.checkOutTime.getTime()-t.checkInTime.getTime(),s=Math.floor(e/6e4);if(s<60)return`${s} min${1!==s?"s":""}`;{const e=Math.floor(s/60),t=s%60;return`${e} hr${1!==e?"s":""} ${t} min${1!==t?"s":""}`}})():"N/A"}),(0,H.jsx)(y.A,{children:fe[t.retailerId]||"N/A"}),(0,H.jsx)(y.A,{children:Array.isArray(t.products)&&t.products.length>0?(0,H.jsx)(H.Fragment,{children:(0,H.jsxs)(a.A,{sx:{display:"flex",alignItems:"center"},children:[(0,H.jsx)(l.A,{variant:"body2",sx:{mr:1},children:Te[t.id]?"":`${t.products.length} product${t.products.length>1?"s":""}`}),(0,H.jsx)(k.A,{size:"small",onClick:()=>{return e=t.id,void Me((t=>({...t,[e]:!t[e]})));var e},"aria-label":Te[t.id]?"Collapse products":"Expand products",children:Te[t.id]?(0,H.jsx)(D.A,{}):(0,H.jsx)(z.A,{})})]})}):"\u2014"})]},t.id),Te[t.id]&&(0,H.jsx)(b.A,{children:(0,H.jsx)(y.A,{colSpan:5,sx:{py:0,borderBottom:"none"},children:(0,H.jsx)(a.A,{sx:{py:2},children:(0,H.jsxs)(f.A,{size:"small",children:[(0,H.jsx)(p.A,{children:(0,H.jsxs)(b.A,{children:[(0,H.jsx)(y.A,{sx:{fontWeight:600,color:e.palette.warning.main,borderBottom:"none",py:.5},children:"Product Name"}),(0,H.jsx)(y.A,{sx:{fontWeight:600,color:e.palette.warning.main,borderBottom:"none",py:.5},children:"Count"})]})}),(0,H.jsx)(v.A,{children:t.products.map(((e,t)=>{var s;return(0,H.jsxs)(b.A,{children:[(0,H.jsx)(y.A,{sx:{borderBottom:"none",py:.5},children:(null===(s=ue[e.productId])||void 0===s?void 0:s.name)||"Product"}),(0,H.jsx)(y.A,{sx:{borderBottom:"none",py:.5},children:e.count})]},t)}))})]})})})},`${t.id}-expanded`)]))})]})}),(0,H.jsx)(w.A,{rowsPerPageOptions:[5,10,25],component:"div",count:We.length,rowsPerPage:de,page:le,onPageChange:(e,t)=>ce(t),onRowsPerPageChange:e=>{he(parseInt(e.target.value,10)),ce(0)}})]})})})]}):Q&&"MarketingStaff"!==Q.role?(0,H.jsx)(c.A,{sx:{borderRadius:2,boxShadow:e.shadows[2],mb:4},children:(0,H.jsxs)(d.A,{sx:{p:3},children:[(0,H.jsxs)(l.A,{variant:"h6",fontWeight:"bold",sx:{mb:2},children:[(0,H.jsx)(E.A,{sx:{mr:1,verticalAlign:"text-bottom"}}),"Direct Subordinates"]}),se?(0,H.jsx)(m.A,{sx:{mt:2,mb:1,borderRadius:1}}):0===xe.length?(0,H.jsx)(a.A,{sx:{p:3,textAlign:"center",backgroundColor:"rgba(0,0,0,0.02)"},children:(0,H.jsx)(l.A,{variant:"body1",color:"text.secondary",children:"No direct subordinates found"})}):(0,H.jsx)(j.A,{children:(0,H.jsxs)(f.A,{children:[(0,H.jsx)(p.A,{children:(0,H.jsxs)(b.A,{children:[(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Name"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Role"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Status"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Visits"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Retailers Reached"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Cartons Sold"}),(0,H.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Sales Amount"}),(0,H.jsx)(y.A,{align:"right",sx:{fontWeight:"bold"},children:"Actions"})]})}),(0,H.jsx)(v.A,{children:xe.slice(le*de,le*de+de).map((s=>(0,H.jsxs)(b.A,{sx:{"&:hover":{backgroundColor:"rgba(0,0,0,0.04)"}},children:[(0,H.jsx)(y.A,{children:(0,H.jsxs)(a.A,{sx:{display:"flex",alignItems:"center"},children:[(0,H.jsx)(o.A,{sx:{bgcolor:e.palette.warning.light,color:e.palette.warning.contrastText||"#fff",width:36,height:36,mr:2,fontSize:"0.9rem"},children:V(s.name)}),(0,H.jsx)(l.A,{variant:"subtitle2",children:s.name})]})}),(0,H.jsx)(y.A,{children:s.role}),(0,H.jsx)(y.A,{children:(0,H.jsx)(I.A,{label:s.status,color:"Active"===s.status?"success":"default",size:"small",sx:{borderRadius:"14px",fontWeight:500}})}),(0,H.jsx)(y.A,{children:s.visitCount}),(0,H.jsx)(y.A,{children:s.retailersReached}),(0,H.jsx)(y.A,{children:s.cartonsSold}),(0,H.jsx)(y.A,{children:(0,H.jsxs)(l.A,{variant:"body2",fontWeight:600,color:e.palette.success.main,children:["\u20b9",s.totalSalesAmount.toFixed(2)]})}),(0,H.jsx)(y.A,{align:"right",children:(0,H.jsx)(S.A,{title:"View Details",children:(0,H.jsx)(k.A,{onClick:()=>t(`/staff/${s.id}/visits`),size:"small",sx:{ml:1,color:e.palette.warning.main,bgcolor:"rgba(255, 152, 0, 0.08)","&:hover":{bgcolor:"rgba(255, 152, 0, 0.12)"}},children:(0,H.jsx)(E.A,{fontSize:"small"})})})})]},s.id)))})]})}),(0,H.jsx)(w.A,{rowsPerPageOptions:[5,10,25],component:"div",count:xe.length,rowsPerPage:de,page:le,onPageChange:(e,t)=>ce(t),onRowsPerPageChange:e=>{he(parseInt(e.target.value,10)),ce(0)}})]})}):null,(0,H.jsx)(g.A,{variant:"outlined",onClick:()=>t(-1),sx:{mt:3},startIcon:(0,H.jsx)(M.A,{}),children:"Back"}),(0,H.jsx)(C.A,{open:ae.open,autoHideDuration:6e3,onClose:()=>oe({...ae,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,H.jsx)(T.A,{onClose:()=>oe({...ae,open:!1}),severity:ae.severity,sx:{width:"100%",boxShadow:e.shadows[3],borderRadius:2},children:ae.message})})]})}}}]);
//# sourceMappingURL=850.c7913309.chunk.js.map